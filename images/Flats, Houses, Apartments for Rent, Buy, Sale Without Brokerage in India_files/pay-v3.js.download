(function(){if(typeof window.console!=="object"){window.console={log:function(a){},info:function(a){},warn:function(a){}}}}());(function(){var x=function(){var G;G=navigator.userAgent;return(screen.width<=720)||(screen.height<=720)||/Android/i.test(G)||/iPhone/i.test(G)||/iPad/i.test(G)};var u=new Date().getTime();var q=document.location.hostname;var v=q.indexOf("juspay.in")>=0;var a="https://api.juspay.in";if(v){var r=document.location.protocol;var n=document.location.port;a=r+"//"+q+(n?(":"+n):"")}var m=a+"/txns";var s=a+"/order/payment-status";var f=a+"/card/tokenize";var F=a+"/upi/verify-vpa";var h=a+"/iframe-element";var B=a+"/payjs-iframe-sender";var i=a+"/event/record";var p=a+"/event/addMetric";if(window.location.protocol=="file:"){h=h+"?domain_check=false";B=B+"?domain_check=false"}function j(I,H,G){}function g(I,J,H){for(var G in H){I[G]=(J[G]===undefined?H[G]:J[G])}return I}var c={READY:"READY",PROCESSING:"PROCESSING",PROCESSING_3D:"3D_SECURE",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};var o={payment_form:"#frm",success_handler:0,error_handler:0,form_error_handler:0,second_factor_window_closed_handler:0,field_order_id:".order_id",field_product_id:".product_id",field_amount:".amount",field_merchant_id:".merchant_id",field_gateway_id:".gateway_id",field_customer_email:".customer_email",field_customer_phone:".customer_phone",field_card_token:".card_token",field_card_isin:".card_isin",field_payment_method_type:".payment_method_type",field_payment_method:".payment_method",field_card_number:".card_number",field_name_on_card:".name_on_card",field_card_security_code:".security_code",field_card_exp_month:".card_exp_month",field_card_exp_year:".card_exp_year",field_juspay_locker_save:".juspay_locker_save",field_redirect:".redirect",field_is_emi:".is_emi",field_emi_bank:".emi_bank",field_emi_tenure:".emi_tenure",field_emi_type:".emi_type",field_offer_id:".offer_id",field_upi_vpa:".upi_vpa",field_txn_type:".txn_type",field_mobile_number:".mobile_number",field_auth_type:".auth_type",field_should_create_mandate:".should_create_mandate",submit_btn:".make_payment",type:"inline",iframe_elements:{},styles:{},iframe_element_callback:function(){},auto_tab_enabled:false,auto_tab_from_card_number:"",auto_tab_from_security_code:"",card_encoding_key:"",card_encoding_version:""};var l=function(G){};var A=(function(){var G=function(H,I){var J=new XMLHttpRequest();J.onreadystatechange=function(){if(this.readyState==4){if(this.status==200){H()}else{I()}}};return J};return{get:function(J,K,H,I){var L=G(H,I);L.open("GET",J,true);L.send(K)},post:function(J,K,H,I){var L=G(H,I);L.open("POST",J,true);L.setRequestHeader("Content-type","application/x-www-form-urlencoded");L.send(K)}}})();var t=(function(){if(typeof window.postMessage!=="function"){return null}var K=false;var H=(function(){var L=document.createElement("iframe");L.style.display="none";L.src=B;L.id="juspay-hidden-form"+new Date().getTime();var M=document.getElementsByTagName("body")[0];if(M){M.appendChild(L)}else{M=document.getElementsByTagName("head")[0];M.appendChild(L)}return L.contentWindow})();var J=(function(){var L={};return new function(){this.register=function(M,N){L[M]=N};this.processMessage=function(M){L[M.senderId](M.messageId,M)};this.unregister=function(M){delete L[M.senderId]}}})();var I=(function(){var L=0;return function(){var M="SID_"+L;L+=1;return M}})();window.addEventListener("message",function(M){if(M.origin.indexOf("juspay.in")>=0){var L=JSON.parse(M.data);if(L.messageId==="check-ok"){K=true}else{if(/^MID_/.test(L.messageId)&&/^SID_/.test(L.senderId)){J.processMessage(L)}}}});var G=function(){var P=I();var L=0;var N={generic:function(){}};var O={generic:function(){alert("There has been an error, please retry.")}};var M=function(U,X,W,R,S){L+=1;var T="MID_"+L;N[T]=R;O[T]=S;var V={url:U,messageId:T,senderId:P,iframeId:X,payload:W};H.postMessage(JSON.stringify(V),B)};var Q=function(S,R){var T;if(!N[S]||!O[S]){T=N[S]||O[S]}else{if(R.ok){T=N[S]||N.generic}else{T=O[S]||O.generic}}T(R.payload);delete N[S];delete O[S]};J.register(P,Q);return M};return(function(){var L=new G();return function(){return function(O,Q,P,M,N){while(!K){window.setTimeout(function(){},1250)}L.apply(null,[O,Q,P,M,N])}}})()})();function D(G){try{}catch(H){}}var k=function(I){var H=[];for(var G in I){if(I.hasOwnProperty(G)){H.push(encodeURIComponent(G)+"="+encodeURIComponent(I[G]))}}return H.join("&")};var e=function(G){return G?G.value:""};var z=function(H){this.toQueryString=k;this.valueOf=e;var P=(function(X){var Y="";var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var W=0;W<X;W++){Y+=V.charAt(Math.floor(Math.random()*V.length))}return Y})(16);var J=new Date().getTime();var U=g({},H,o);var M=c.READY;var R=document.querySelector(U.payment_form);var I=R.querySelector(U.submit_btn);if(H.type!==undefined&&(H.type=="inline"||H.type=="express")){U.type=H.type}else{U.type=this.valueOf(R.querySelector(".card_token"))!==""?"express":"inline"}this.clear_form=function(){var W={messageId:"clear-iframe-element"};for(var V in U.iframe_elements){S[V].contentWindow.postMessage(JSON.stringify(W),S[V].src)}};if(U.type=="express"){b[U.payment_form]={security_code:{target_element:"security_code",empty:true,valid:false,card_brand:"none"}}}else{b[U.payment_form]={card_number:{target_element:"card_number",empty:true,partially_valid:false,valid:false,card_brand:"none"},name_on_card:{target_element:"name_on_card",empty:true,valid:false},card_exp_month:{target_element:"card_exp_month",empty:true,valid:false,expiry_valid:false},card_exp_year:{target_element:"card_exp_year",empty:true,valid:false,expiry_valid:false},security_code:{target_element:"security_code",empty:true,valid:false}}}this.validate_form=function(){var W={};var V=this.valueOf(R.querySelector(U.field_payment_method_type));var X=this.valueOf(R.querySelector(U.field_payment_method));if(V=="NB"||V=="WALLET"||V=="UPI"||V=="CONSUMER_FINANCE"||(X&&/^ATM_CARD_/.test(X))||V=="REWARD"){W.valid=true}else{if(U.type=="inline"){if(b[U.payment_form].card_number.valid){if(!U.iframe_elements.name_on_card||b[U.payment_form].name_on_card.valid){if((b[U.payment_form].card_number.card_brand=="MAESTRO"||b[U.payment_form].card_number.card_brand=="BAJAJ")&&b[U.payment_form].card_exp_month.empty&&b[U.payment_form].card_exp_year.empty&&b[U.payment_form].security_code.empty){W.valid=true}else{if(b[U.payment_form].card_exp_month.expiry_valid){if(b[U.payment_form].security_code.valid){W.valid=true}else{W=b[U.payment_form].security_code}}else{if(!b[U.payment_form].card_exp_month.valid){W=b[U.payment_form].card_exp_month}else{if(!b[U.payment_form].card_exp_year.valid){W=b[U.payment_form].card_exp_year}else{W=b[U.payment_form].card_exp_year;W.valid=false}}}}}else{W=b[U.payment_form].name_on_card}}else{W=b[U.payment_form].card_number}}else{if(U.type=="express"){if((b[U.payment_form].security_code.card_brand=="MAESTRO"||b[U.payment_form].security_code.card_brand=="BAJAJ")&&b[U.payment_form].security_code.empty){W.valid=true}else{if(b[U.payment_form].security_code.valid){W.valid=true}else{W=b[U.payment_form].security_code}}}else{W.valid=true}}}return W};this.get_status=function(){return M};this.set_type=function(V){if(V!==undefined&&(V=="inline"||V=="express")){U.type=V}return U.type};var O=(function(){var V={};V.isCordovaApp=window.hasOwnProperty("cordova");V.isIonicApp=window.hasOwnProperty("ionic");V.platform="";if(V.isCordovaApp){V.platform=window.device.platform.toLowerCase()}return function(){return V}})();var G=function(W){var X=document.createElement("iframe");X.src=h;X.setAttribute("frameborder","0");X.setAttribute("allowTransparency","true");X.setAttribute("scrolling","no");X.setAttribute("name",W+"_iframe_"+P);X.setAttribute("class",W+"_iframe");X.style.border="none";X.style.margin="0";X.style.padding="0";X.style.height="100%";X.style.width="100%";X.style["float"]="left";X.style.overflow="hidden";X.style.display="block";var V=R.querySelector(U.iframe_elements[W]["container"]);V.appendChild(X);X.addEventListener("load",function(){var Y={messageId:"create-iframe-element",iframeId:P,elementName:W,formName:U.payment_form,elementAttributes:U.iframe_elements[W].attributes,styles:U.styles};if(U.auto_tab_enabled){Y.autoTabEnabled=true;if(W=="card_number"){Y.autoTabFromCardNumber=U.auto_tab_from_card_number}if(W=="security_code"){Y.autoTabFromSecurityCode=U.auto_tab_from_security_code}}else{Y.autoTabEnabled=false}if(R.querySelector(U.field_card_isin)){Y.cardIsin=R.querySelector(U.field_card_isin).value}if(R.querySelector(".merchant_id")){Y.merchantId=R.querySelector(".merchant_id").value}X.contentWindow.postMessage(JSON.stringify(Y),X.src)});return X};var S={};for(var T in U.iframe_elements){S[T]=G(T)}window.addEventListener("message",function(Y){if(Y.origin.indexOf("juspay.in")>=0){var X=JSON.parse(Y.data);if(X.messageId==="handle-iframe-event"&&X.senderId===U.payment_form){switch(X.eventObject.target_element){case"card_number":b[U.payment_form].card_number=X.eventObject;break;case"name_on_card":b[U.payment_form].name_on_card=X.eventObject;break;case"card_exp_month":b[U.payment_form].card_exp_month=X.eventObject;b[U.payment_form].card_exp_year.expiry_valid=X.eventObject.expiry_valid;break;case"card_exp_year":b[U.payment_form].card_exp_year=X.eventObject;b[U.payment_form].card_exp_month.expiry_valid=X.eventObject.expiry_valid;break;case"security_code":b[U.payment_form].security_code=X.eventObject;break}U.iframe_element_callback(X.eventObject)}else{if(X.messageId==="get-platform-quirks"){var Z=X.senderId+"_iframe_"+P;var W=S[X.senderId];U.iframe_element_callback({target_element:X.senderId,type:"onready",valid:true});if(W&&W.getAttribute("name")==Z&&W.contentWindow!=null){try{var V=O();W.contentWindow.postMessage(JSON.stringify({messageId:"fix-platform-quirks",senderId:"pay-controller",quirks:V}),W.src)}catch(aa){}}}else{if(X.messageId==="platform-quirks-fixed"){try{var Z=X.senderId+"_iframe_"+P;if(S.hasOwnProperty(X.senderId)&&S[X.senderId].getAttribute("name")==Z&&S[X.senderId].contentWindow!=null){var V=O();if(V.isCordovaApp&&V.isIonicApp&&V.platform==="ios"){ionic.tap.register(S[X.senderId].contentWindow.document)}}}catch(aa){}}}}}});var N=function(Y){var Z={};var V={cardExpMonth:"card_exp_month",cardExpYear:"card_exp_year",cardSecurityCode:"card_security_code",cardNumber:"card_number",name:"name_on_card",orderId:"order_id",merchantId:"merchant_id",emiBank:"emi_bank",emiTenure:"emi_tenure",emiType:"emi_type",isEmi:"is_emi",cardToken:"card_token",juspayLockerSave:"save_to_locker",expressCheckout:"express_checkout",redirect:"redirect_after_payment",authentication_method:"authentication_method",gatewayId:"gateway_id",paymentMethodType:"payment_method_type",paymentMethod:"payment_method",authType:"auth_type",shouldCreateMandate:"should_create_mandate",upiVpa:"upi_vpa",txnType:"txn_type",mobileNumber:"mobile_number",cardEncodingKey:"card_encoding_key",cardEncodingVersion:"card_encoding_version"};for(var W in Y){if(V[W]){var X=V[W];Z[X]=Y[W]}}Z.format="json";Z.payjs_version="v3";return Z};this.extend=function(V){V=V||{};for(var W=1;W<arguments.length;W++){if(!arguments[W]){continue}for(key in arguments[W]){if(arguments[W].hasOwnProperty(key)){V[key]=arguments[W][key]}}}return V};var Q=function(W){if(!W){return}if(typeof W.classList=="object"){W.classList.remove("disabled")}else{var V=W.className.split(/\s+/g);V.splice(V.indexOf("disabled"),1);W.className=V.join(" ")}W.disabled=false};var L=function(V){if(!V){return}if(typeof V.classList=="object"){V.classList.add("disabled")}else{V.className+=" disabled"}V.disabled=false};this.submit_form=function(){var ac=this.validate_form();var ai=0;if(!ac.valid){ac.on_submit=true;U.iframe_element_callback(ac);return}else{var af=new Date().getTime();L(I);var aj=this.valueOf(R.querySelector(U.field_merchant_id));var av=this.valueOf(R.querySelector(U.field_order_id));var ay=this.valueOf(R.querySelector(U.field_gateway_id));var ad=this.valueOf(R.querySelector(U.field_amount));var aB=this.valueOf(R.querySelector(U.field_customer_email));var at=this.valueOf(R.querySelector(U.field_customer_phone));var ao=this.valueOf(R.querySelector(U.field_product_id));var au=this.valueOf(R.querySelector(U.field_is_emi));var W=this.valueOf(R.querySelector(U.field_emi_type))||"STANDARD_EMI";var ab=this.valueOf(R.querySelector(U.field_emi_bank));var ag=this.valueOf(R.querySelector(U.field_emi_tenure));var aa=this.valueOf(R.querySelector(U.field_offer_id));var aC=this.valueOf(R.querySelector(U.field_payment_method_type));var Z=this.valueOf(R.querySelector(U.field_payment_method));var ar=this.valueOf(R.querySelector(U.field_auth_type));if(!ar){ar=this.valueOf(R.querySelector(U.field_auth_type+" input[type=radio]:checked"))}var Y=this.valueOf(R.querySelector(U.field_should_create_mandate));if(!Y){Y=this.valueOf(R.querySelector(U.field_should_create_mandate+" input[type=radio]:checked"))}var al=this.valueOf(R.querySelector(U.field_upi_vpa));var ak=this.valueOf(R.querySelector(U.field_txn_type));var V=this.valueOf(R.querySelector(U.field_mobile_number));D({o:av,d:"Time taken for submit: "+(af-u)});j("submit_latency",(af-u),{checkout_type:U.type,merchant:aj});D({o:av,d:"Submit form invoked"});var aA="";var X="";var aq=R.querySelector(U.field_redirect).value;var ah={};if(typeof(au)!="undefined"){this.extend(ah,{isEmi:au,emiBank:ab,emiTenure:ag,emiType:W,})}if(aa){ah.offerId=aa}if(aC=="NB"||aC=="CONSUMER_FINANCE"||aC=="REWARD"){this.extend(ah,{paymentMethodType:aC,paymentMethod:Z,orderId:av,merchantId:aj})}else{if(aC=="WALLET"){this.extend(ah,{paymentMethodType:aC,paymentMethod:Z,orderId:av,merchantId:aj,txnType:ak,mobileNumber:V})}else{if(Z&&/^ATM_CARD_/.test(Z)){this.extend(ah,{paymentMethodType:aC,paymentMethod:Z,authType:ar,orderId:av,merchantId:aj})}else{if(aC=="UPI"){this.extend(ah,{paymentMethodType:aC,paymentMethod:Z,orderId:av,merchantId:aj,upiVpa:al,txnType:ak})}else{if(U.type=="inline"){var ae=R.querySelector(U.field_juspay_locker_save);if(ae!==null){ae=ae.checked}this.extend(ah,{cardNumber:null,cardExpMonth:null,cardExpYear:null,cardSecurityCode:null,merchantId:aj,orderId:av,juspayLockerSave:ae,paymentMethodType:"CARD",paymentMethod:Z});if(U.iframe_elements.name_on_card){this.extend(ah,{name:null})}if(U.card_encoding_key&&U.card_encoding_version){this.extend(ah,{cardEncodingKey:U.card_encoding_key,cardEncodingVersion:U.card_encoding_version})}}else{if(U.type=="express"){var an=this.valueOf(R.querySelector(U.field_card_token));this.extend(ah,{cardToken:an,cardSecurityCode:null,merchantId:aj,orderId:av,expressCheckout:true,paymentMethodType:"CARD",paymentMethod:Z});if(U.card_encoding_key&&U.card_encoding_version){this.extend(ah,{cardEncodingKey:U.card_encoding_key,cardEncodingVersion:U.card_encoding_version})}}}}}}}var am=function(aD,aE){if(aE!=undefined){ah[aD]=aE}};am("amount",ad);am("customerEmail",aB);am("customerPhone",at);am("productId",ao);am("gatewayId",ay);am("authType",ar);am("shouldCreateMandate",Y);aA=N(ah);var ax=null;var ap=ay=="20";if(!ap&&!(aq==="true"||x())){ax=Juspay.startSecondFactor(aj,av,X,R)}else{ah.redirect=true;ah.authentication_method="GET";aA=N(ah)}var az=new t();var aw=m;az(aw,P,aA,function(aY){D({o:av,d:"HandlePay response received: "+aY.status});if(aY.status=="PENDING_VBV"||aY.status=="JUSPAY_DECLINED"){var aE=aY.txn_id;var aQ=aY.payment;var aX=aQ.authentication;var aS=aX.url;var aH=aX.method;var aF=aX.params;aY.serviceProvider="juspay";if(aH.toUpperCase()==="POST"){var aK=document.createElement("form");var aD="auth_form_"+new Date().getTime();aK.method=aH;aK.action=aS;aK.setAttribute("id",aD);for(var aN in aF){var aG=document.createElement("input");aG.type="hidden";aG.name=aN;aG.value=aF[aN];aK.appendChild(aG)}var aV=document.createElement("div");aV.appendChild(aK);var aM=aV.innerHTML.replace(/&amp;/g,"&");if(ax){aM+="<script type='text/javascript'>document.forms['"+aD+"'].submit()<\/script>";var aP=ax.document.documentElement.innerHTML;ax.document.open();ax.document.write(aP+aM);ax.document.close()}else{var aL=document.querySelector("body");aV.style.display="none";aL.appendChild(aV);aK.submit();return}}else{if(ax!=null){ax.location.href=aS}else{if(window.parent&&window.parent!==window){window.parent.location.href=aS}else{window.location.href=aS}}}var aW=0;var aT=0;var aU=0;var aO=0;var aJ=function(){if(ax&&ax.closed==true){D({o:av,d:"3D secure window has been closed."});var aZ=t();aZ(s,P,{orderId:av,merchantId:aj,completeReturnUrl:true},function(a3){if(a3.status=="PENDING_VBV"){if(aO==1){L(I);D({o:av,d:"3D secure window is closed due to timeout."});l("/acs_popup_closed_timeout")}else{Q(I);D({o:av,d:"3D secure window is closed by user."});l("/acs_popup_closed_by_user")}if(typeof(U.second_factor_window_closed_handler)=="function"){if(!aU){U.second_factor_window_closed_handler();aU=1}}}else{if(a3.status=="CHARGED"){var a2=new Date().getTime();j("success_latency",(a2-af),{checkout_type:U.type,merchant:aj});U.success_handler(c.SUCCESS,a3)}else{Q(I);U.error_handler(c.FAILURE,a3.errorMessage,a3.bankErrorCode,a3.bankErrorMessage,a3.gatewayId,a3)}}},function(){alert("There has been an error. Please retry.")})}else{if(aj=="nspi"||aj=="tspi"||aj=="spicinemas_testing"){var a0=new Date().getTime();if((a0-u)>(260*1000)){Juspay.stopSecondFactor();var a1="Prematurely closing 3D secure window. Mark txn for cancellation.";D({o:av,t:aE,d:a1});L(I);window.setTimeout(aJ,3000);aO=1}else{window.setTimeout(aJ,1000)}}else{window.setTimeout(aJ,1000)}}aT=aT+1;if((aT%30)==0){D({o:av,d:"3D secure window is still open."})}};aW=window.setTimeout(aJ,1000)}else{if(ap){if(aY.status=="CHARGED"){var aI=new Date().getTime();j("success_latency",(aI-af),{checkout_type:U.type,merchant:aj});U.success_handler(c.SUCCESS,aY)}else{Q(I);U.error_handler(c.FAILURE,aY.errorMessage,aY.bankErrorCode,aY.bankErrorMessage,aY.gatewayId)}}else{if(aY.status=="CHARGED"){if(ax){ax.close()}U.success_handler(c.SUCCESS,aY)}else{if(ax){ax.close()}L(I);D({o:av,d:"Internal Server Error. Check logs."});var aR=aY.errorMessage?aY.errorMessage:aY.error_message;aR=aR?aR:"Something went wrong with your submission.";if(U.error_handler){U.error_handler(c.FAILURE,aR,"",aR,"")}else{alert("Error : "+aR+". Please retry.")}}}}})}return false};this.tokenize=function(Y){if(!Y.hasOwnProperty("success_handler")||typeof Y.success_handler!="function"){throw new Error("success_handler is not specified")}if(!Y.hasOwnProperty("error_handler")||typeof Y.error_handler!="function"){throw new Error("error_handler is not specified")}var X=this.validate_form();if(!X.valid){Y.error_handler({error_code:"invalid",error_message:"Invalid card details",status:"FAILED"})}else{var aa=this.valueOf(R.querySelector(U.field_merchant_id));var ab=this.valueOf(R.querySelector(U.field_order_id));var Z={};Z.merchant_id=aa;if(U.type=="express"){var V=this.valueOf(R.querySelector(U.field_card_token));this.extend(Z,{stored_card_token:V,card_security_code:null})}else{this.extend(Z,{card_number:null,card_security_code:null,card_exp_month:null,card_exp_year:null,name_on_card:null})}var W=new t();W(f,P,Z,function(ac){Y.success_handler(ac)},function(ac){Y.error_handler(ac)})}};this.verify_vpa=function(X){if(!X.hasOwnProperty("success_handler")||typeof X.success_handler!="function"){throw new Error("success_handler is not specified")}if(!X.hasOwnProperty("error_handler")||typeof X.error_handler!="function"){throw new Error("error_handler is not specified")}var Z=this.valueOf(R.querySelector(U.field_merchant_id));var W=this.valueOf(R.querySelector(U.field_upi_vpa));if(!W){X.error_handler({error_code:"invalid",error_message:"Empty vpa",status:"FAILED"})}else{var Y={};Y.merchant_id=Z;Y.vpa=W;var V=new t();V(F,P,Y,function(aa){X.success_handler(aa)},function(aa){X.error_handler(aa)})}};var K=this;R.onsubmit=function(V){V.preventDefault();K.submit_form();return false};return this};function w(){var H=window.navigator.userAgent;var G=H.indexOf("MSIE ");if(G>0){return parseInt(H.substring(G+5,H.indexOf(".",G)))}else{return 0}}function C(G,I){for(var H=0;H<G.length;H++){if(G[H]==I){return true}}return false}var y=["405450","405451","430463","438587","438628","450900","455038","455390","456407","456822","461795","461796","461797","493714","517700","518371","518936","520386","526421","529117","529495","540165","540175","541497","542556","552093","552137","554619","554637","544170","531662","554637","554637","554619","532662","532663","549777","549778","549779","508159","508125","508126","508192","508227"];function E(G){if(G){return C(y,G)}else{return false}}var d=null;window.Juspay=new function(){this.Setup=function(G){return new z(G)};this.startSecondFactor=function(I,J,G,H){if(d&&!d.closed){return d}else{d=Juspay.twoFactor(I,J,G,H)}return d};this.stopSecondFactor=function(G){if(d&&!d.closed){d.close()}};this.twoFactor=function(J,M,N,K){if(x()){return}var I="height=440,width=800,left=200,top=150,location=1,status=1,scrollbars=1,screenX=200";if(E(N)){I="height=600,width=1000,left=100,top=100,location=1,status=1,scrollbars=1,screenX=100"}if(this.valueOf(K.querySelector("input.popup_attrs"))){I=this.valueOf(K.querySelector("input.popup_attrs"))}var L=window.open("","mywindow",I);setTimeout(function(){if(!L||L.closed||typeof L=="undefined"||typeof L.closed=="undefined"){setTimeout(function(){D({o:M,d:"ACS Popup Blocked by browser"});l("/acs_popup_blocked")},10*1000);var P=w();if(P>0){if(P==8){alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that. See above for details or check under Internet Options > Privacy > Settings.")}else{alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that. See below for details or check under Internet Options > Privacy > Settings.")}}else{alert("Oops. Popup blocked by browser. Please allow "+window.location.hostname+" to open popup. Kindly retry after that.")}}},1*1000);if(L){var O="https://d3oxf4lkkqx2kx.cloudfront.net/images/processing.gif";var G="https://d3oxf4lkkqx2kx.cloudfront.net/images/secured-by-juspay-v1.jpg";var H="<br><br><br><div align='center'><div style='font-size: 32px;'>";H+="<div><img src='"+O+"'/><br><br>";H+="<div style='font-size: 16px;'>You will be redirected to your bank website for 3D secure authentication.</div>";H+="<p style='font-size: 16px; '>Please do not refresh the page or click the back or close button of your browser.</p>";H+='<br>  <img width="106" height="59" src=\''+G+"'/>";H+="<br><br></div></div></div>";L.document.write(H);L.document.close()}return L};this.validateCardNumber=function(J){if(/[^0-9 -]+/.test(J)){return false}var K=0,I=0,G=false;J=J.replace(/\D/g,"");for(var L=J.length-1;L>=0;L--){var H=J.charAt(L);var I=parseInt(H,10);if(G){if((I*=2)>9){I-=9}}K+=I;G=!G}return(K%10)==0}};var b={}})();