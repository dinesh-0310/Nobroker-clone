function validateNRIFormdata(a){var b=!0,c=$("#nriInfoForm");return $.each(c.find(":input"),function(a,c){var d=$(c);d.checkValidity()||(d.addClass("invalid-field"),$(".formError").show(),b=!1)}),$(".invalid-field").focus(function(a){$(a.target).removeClass("invalid-field"),$(".formError").hide()}),$(".userSelectButs").focus(function(a){$("#userTypeErr").addClass("hide")}),b}function onSubmitNRIForm(){nbGA.logEvent("SignUp","NRI-submit",{});var a=$("#nriInfoForm"),b="/api/v1/nri_lead/save",c={};c.name=a.find("input[name=name]").val(),c.email=a.find("input[name=email]").val();var d=a.find("#nriInfoFormContactNumber").intlTelInput("getSelectedCountryData");if(d&&d.dialCode?c.phone="+"+d.dialCode+a.find("input[name=phoneNo]").val():c.phone="+91"+a.find("input[name=phoneNo]").val(),""!=$("#nriInfoFormWhatsappNumber").val()&&(c.whatsappNumber=a.find("#nriInfoFormWhatsappNumber").intlTelInput("getNumber")),c.countryName=d.name,c.countryCode=d.iso2,c.source="NRI_FORM",showLoading(),!checkUserType())return void hideLoading();checkUserType()&&(hideLoading(),isFormValid(a)&&($("#nriInfoFormWhatsappNumber").prop("disabled",!1),c.userType=userType,$.ajax({type:"POST",url:b,data:c,contentType:"application/x-www-form-urlencoded"}).done(function(a){hideLoading(),200==a.status&&200==a.statusCode?(displayAlerts("We have received your details! We'll reach out to you soon.","success",5e3),resetFields(),$("#nriInfoAskingModal").modal("hide")):(displayAlerts("Something went wrong. Please try again later.","danger",5e3),$("#nriInfoAskingModal").modal("hide"))}).fail(function(a,b,c){hideLoading(),displayAlerts("Something went wrong. Please try again later.","danger",5e3),$("#nriInfoAskingModal").modal("hide")})))}function checkUserType(){return""!=userType?($("#userTypeErr").addClass("hide"),!0):$("#ownerSelectBtn").hasClass("selectedButton")?(userType="OWNER",!0):($("#userTypeErr").removeClass("hide"),!1)}function setUserType(a){"ownerSelectBtn"==a.id?($("#userTypeErr").addClass("hide"),$("#subInfoTextOwner").removeClass("hide"),$("#subInfoTextTenant").addClass("hide"),$("#tenantSelectBtn").hasClass("selectedButton")?($("#tenantSelectBtn").removeClass("selectedButton"),$("#ownerSelectBtn").addClass("selectedButton"),userType="OWNER"):($("#ownerSelectBtn").addClass("selectedButton"),userType="OWNER")):($("#userTypeErr").addClass("hide"),$("#subInfoTextOwner").addClass("hide"),$("#subInfoTextTenant").removeClass("hide"),$("#ownerSelectBtn").hasClass("selectedButton")?($("#ownerSelectBtn").removeClass("selectedButton"),$("#tenantSelectBtn").addClass("selectedButton"),userType="TENANT"):($("#tenantSelectBtn").addClass("selectedButton"),userType="TENANT"))}function copyOriginalToWhatsapp(a,b,c){var d=$("#"+b).intlTelInput("getSelectedCountryData"),e=$("#"+b).intlTelInput("getNumber");validateIndianPhoneNumberOnly(e,d)?1==$("#"+a).prop("checked")?(copyNumber("#"+b,"#"+c),$("#"+c).prop("disabled",!0)):($("#"+c).prop("disabled",!1),$("#"+c).intlTelInput("setNumber","")):($("#"+a).prop("checked",!1),$("#"+b).setCustomValidity("Please enter valid Phone Number in specified format"),$("#nriInfoForm").find("button[type=submit]").click())}function copyNumber(a,b){var c=$(a).intlTelInput("getSelectedCountryData"),d=$(a).val();$(b).intlTelInput("setCountry",c.iso2),$(b).val(d)}function isFormValid(a){var b=$("#nriInfoAskingModal #nriInfoFormContactNumber").intlTelInput("getNumber"),c=$("#nriInfoAskingModal #nriInfoFormContactNumber").intlTelInput("getSelectedCountryData"),d=$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").intlTelInput("getNumber"),e=$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").intlTelInput("getSelectedCountryData");return a.checkValidity()?"nriInfoForm"!=a[0].id||(!(!validateIndianPhoneNumberOnly(b,c)||""!==$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").val())||(!(!validateIndianPhoneNumberOnly(b,c)||!validateIndianPhoneNumberOnly(d,e))||(validateIndianPhoneNumberOnly(b,c)?validateIndianPhoneNumberOnly(d,e)||$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").setCustomValidity("Please enter valid WhatsApp Number in specified format"):$("#nriInfoAskingModal #nriInfoFormContactNumber").setCustomValidity("Please enter valid Phone Number in specified format"),$(a).find("button[type=submit]").click(),!1))):(validateIndianPhoneNumberOnly(b,c)?validateIndianPhoneNumberOnly(d,e)||$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").setCustomValidity("Please enter valid WhatsApp Number in specified format"):$("#nriInfoAskingModal #nriInfoFormContactNumber").setCustomValidity("Please enter valid Phone Number in specified format"),$(a).find("button[type=submit]").click(),!1)}function resetFields(){$("#nriInfoForm").trigger("reset"),$("#tenantSelectBtn").removeClass("selectedBut"),$("#ownerSelectBtn").removeClass("selectedBut")}var userType="";$("#closeNriBtn").on("click",function(){$("#nriInfoAskingModal").modal("hide")}),$("#nriInfoAskingModal #nriInfoFormContactNumber").intlTelInput({nationalMode:!0,separateDialCode:!0,autoPlaceholder:"off",initialCountry:"us",utilsScript:"https://assets.nobroker.in/static/lib/universal/intlTelInputUtil.js"}),$("#nriInfoAskingModal #nriInfoFormWhatsappNumber").intlTelInput({nationalMode:!0,formatOnDisplay:!0,separateDialCode:!0,autoPlaceholder:"off",initialCountry:"us",utilsScript:"https://assets.nobroker.in/static/lib/universal/intlTelInputUtil.js"}),$("#nriInfoFormContactNumber").keyup(function(){1==$("#copyNumberCheckbox").prop("checked")&&($("#copyNumberCheckbox").prop("checked",!1),$("#nriInfoFormWhatsappNumber").prop("disabled",!1),$("#nriInfoFormWhatsappNumber").intlTelInput("setNumber",""))}),$(".nri-info-phone .selected-dial-code").bind("DOMSubtreeModified",function(a){1==$("#copyNumberCheckbox").prop("checked")&&($("#copyNumberCheckbox").prop("checked",!1),$("#nriInfoFormWhatsappNumber").prop("disabled",!1),$("#nriInfoFormWhatsappNumber").intlTelInput("setNumber",""))}),$(document).on("keydown","#ourServices #nriInfoAskingModal",function(a){13==a.keyCode&&(a.preventDefault(),onSubmitNRIForm())});